# 백테스트 프로그램

이 백테스트 프로그램은 트레이더와 연구자들이 과거 시장 데이터를 활용하여 거래 전략을 평가하고 최적화할 수 있도록 설계되었습니다. TSLA와 TSLL 주식을 포함한 포트폴리오를 대상으로 하며, 고급 최적화 기법을 통해 주어진 전략에 가장 수익성이 높은 파라미터를 식별하는 것을 목표로 합니다. 프로그램은 그리드 서치, 유전 알고리즘, 베이지안 최적화와 같은 다양한 최적화 방법을 지원합니다.

## 주요 기능

- **다양한 최적화 방법**: 그리드 서치, 유전 알고리즘, 베이지안 최적화 중 선택하여 거래 전략의 최적 파라미터를 찾을 수 있습니다.
- **동적 가중치 조정**: 시장 변동성에 따라 ATR(Average True Range)을 사용해 거래 가중치를 적응적으로 조정합니다.
- **포괄적인 기술 지표**: RSI, SMA, 볼린저 밴드, MACD, ATR 등 다양한 기술 지표를 지원하여 전략 개발에 활용 가능합니다.
- **상세한 출력**: 최적 파라미터, 최종 포트폴리오 가치, 수익률을 제공하여 전략 성과를 평가할 수 있습니다.
- **모듈형 설계**: 추가 지표나 최적화 기법을 쉽게 통합할 수 있는 확장성을 갖췄습니다.

## 설치 방법

이 백테스트 프로그램을 사용하려면 다음 Python 라이브러리를 설치해야 합니다:

```bash
pip install pandas numpy deap bayesian-optimization
Python 3.6 이상 버전이 설치되어 있는지 확인하세요.
사용 방법
백테스트 프로그램을 실행하고 활용하려면 아래 단계를 따라 주세요. 각 단계는 명확히 구분되어 있으며, 필요한 명령어와 준비 사항을 포함합니다.
1. 필요한 라이브러리 설치
프로그램을 실행하려면 먼저 Python 환경에 필수 라이브러리를 설치해야 합니다. 아래 명령어를 터미널에서 실행하세요:
bash
pip install pandas numpy deap bayesian-optimization
주의: Python 3.6 이상 버전이 설치되어 있어야 합니다. 버전을 확인하려면 python --version 명령어를 사용하세요.
2. 데이터 파일 준비
백테스트에 필요한 과거 데이터를 CSV 형식으로 준비합니다. 다음 파일과 열이 필요합니다:
TSLA-history-2y.csv: TSLA 주식 데이터
열: Date, Open, High, Low, Close, Volume
TSLL-history-2y.csv: TSLL 주식 데이터
열: Date, Open, High, Low, Close, Volume
fear_greed_2years.csv: Fear and Greed Index 데이터
열: date, y (Fear and Greed Index 값)
데이터 확인 사항:
날짜 형식이 일관적인지 확인하세요 (예: YYYY-MM-DD).
주요 열에 누락값이 없어야 합니다.
3. 프로그램 실행
준비가 완료되면 아래 명령어로 백테스트 프로그램을 실행합니다:
bash
python backtest.py
실행 시 데이터 파일이 스크립트와 동일한 디렉토리에 있어야 합니다.
4. 최적화 방법 선택
프로그램은 기본적으로 다음 세 가지 최적화 방법을 순차적으로 실행합니다:
그리드 서치 (Grid Search): 모든 파라미터 조합을 평가.
유전 알고리즘 (Genetic Algorithms): 진화론적 방식으로 최적화.
베이지안 최적화 (Bayesian Optimization): 확률 모델로 효율적 탐색.
특정 방법만 사용하고 싶다면 backtest.py 파일을 열어 해당 설정을 수정하세요.
5. 결과 검토
실행이 완료되면 프로그램은 각 최적화 방법별로 다음 결과를 출력합니다:
최적 파라미터: 선택된 파라미터 집합.
최종 포트폴리오 가치: 전략 적용 후의 가치.
수익률: (최종 가치 - 초기 가치) / 초기 가치 * 100으로 계산.
가장 높은 성과를 보인 방법이 별도로 강조됩니다.
최적화 방법론
이 프로그램은 거래 전략의 최적 파라미터를 찾기 위해 세 가지 최적화 기법을 사용합니다:
그리드 서치(Grid Search): 지정된 파라미터 그리드 내 모든 조합을 철저히 평가하며, 시간이 많이 걸릴 수 있지만 완전한 탐색을 보장합니다.
유전 알고리즘(Genetic Algorithms): 진화론적 기법을 통해 파라미터 집합을 반복적으로 개선하며, 탐색과 활용의 균형을 유지합니다.
베이지안 최적화(Bayesian Optimization): 확률 모델을 활용해 지능적으로 파라미터 조합을 선택하여, 적은 평가로도 거의 최적의 해를 찾습니다.
이러한 방법들은 사용자가 계산 효율성과 파라미터 탐색의 철저함 사이에서 적절히 선택할 수 있도록 합니다.
데이터 요구 사항
백테스트 프로그램은 다음 데이터 파일을 필요로 합니다:
TSLA-history-2y.csv: TSLA의 과거 가격 및 거래량 데이터.
TSLL-history-2y.csv: TSLL의 과거 가격 및 거래량 데이터.
fear_greed_2years.csv: 과거 Fear and Greed Index 데이터.
데이터는 날짜 형식이 올바르고 주요 열에 누락값이 없는지 사전에 확인해야 합니다.
결과 및 해석
백테스트는 각 최적화 방법에 대해 다음을 출력합니다:
최적 파라미터: 선택된 최적화 방법으로 찾은 최적의 파라미터 집합.
최종 포트폴리오 가치: 최적 파라미터를 적용한 후의 포트폴리오 가치.
수익률: 초기 투자 대비 수익률로, (최종 가치 - 초기 가치) / 초기 가치 * 100으로 계산됩니다.
또한, 가장 높은 포트폴리오 가치를 제공한 최적화 방법을 별도로 강조합니다.
기여 방법
기여를 환영합니다! 기여를 위해 다음 단계를 따르세요:
리포지토리를 포크(Fork)합니다.
새로운 기능이나 버그 수정 작업을 위한 브랜치를 생성합니다.
변경 내용을 상세히 설명한 풀 리퀘스트(Pull Request)를 제출합니다.
버그 보고나 기능 제안을 위해서는 GitHub에서 이슈를 열어주세요.
라이선스
이 프로그램은 MIT 라이선스 하에 배포됩니다. 자세한 내용은 LICENSE 파일을 참조하세요.

위 코드를 복사하여 GitHub의 `Backtest.md` 파일에 붙여넣으면 됩니다. 별도의 수정 없이 바로 사용할 수 있습니다!
